(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{39:function(t,e,s){},4:function(t){t.exports=JSON.parse('{"a":"https://giphy-itptit.herokuapp.com"}')},40:function(t,e,s){},67:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s(1),r=s.n(a),c=s(32),i=s.n(c),o=s(7),u=s(6),l=(s(39),s(40),s(17)),d=s(2),h=s.n(d),j=s(5),b=s(9),m=s(10),p=s(12),f=s(11),O=s(3),x=s.n(O),v=s(4),g=function(){return x.a.post(v.a+"/api/checkToken",{token:localStorage.getItem("auth-token")}).then((function(t){return t.data})).catch((function(t){return t}))},N=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).componentDidMount=Object(j.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.title="\u0110\u0103ng nh\u1eadp",t.next=3,g();case 3:e=t.sent,this.setState({user:e}),this.state.loading=!0,this.render();case 7:case"end":return t.stop()}}),t,this)}))),n.state={loading:!1},n}return Object(m.a)(s,[{key:"render",value:function(){var t,e=this.state.user;return e&&e._id&&(t=e._id),Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)(o.c,{to:"/",children:"LOGO"})}),Object(n.jsxs)("div",{className:"dropdown",children:[Object(n.jsxs)("button",{children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]}),t?Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[" ",Object(n.jsx)(o.c,{to:"/profile",children:"Profile"})]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)(o.c,{to:"/favorites",children:"Favorites"})]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)(o.c,{to:"/logout",children:"Logout"})]})]}):Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[" ",Object(n.jsx)(o.c,{to:"/login",children:"\u0110\u0103ng nh\u1eadp"})]}),Object(n.jsxs)("li",{children:[" ",Object(n.jsx)(o.c,{to:"/register",children:"\u0110\u0103ng k\xed"})]})]})]})]})})}}]),s}(a.Component);function S(t){var e=t.open,s=t.title,a=t.children,r=t.onClose;return e?Object(n.jsx)("div",{className:"box-modal",id:"share",children:Object(n.jsxs)("div",{className:"modal",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("span",{className:"float-right",onClick:r,children:Object(n.jsx)("i",{className:"fas fa-times"})}),Object(n.jsxs)("h3",{children:[" ",s," "]})]}),Object(n.jsx)("div",{className:"content",children:a})]})}):null}var _=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n,a;return Object(b.a)(this,s),(a=e.call(this,t)).componentDidMount=Object(j.a)(h.a.mark((function t(){var e,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,g();case 3:return s=t.sent,t.next=6,x.a.get(v.a+"/api/user?user_id="+s._id).then((function(t){return a.setState({user:t.data})})).catch((function(t){return a.error()}));case 6:return t.next=8,x.a.get("https://api.giphy.com/v1/gifs/trending?api_key=St3iGq5nwkH8bzTKJuFrqMVisVItn3cw&limit=".concat(a.state.length,"&rating=g")).then((function(t){return a.setState({data:t.data.data})}));case 8:return t.next=10,x.a.get(v.a+"/api/bst?user_id="+s._id).then((function(t){return a.setState({bst:t.data})})).catch((function(t){return a.error()}));case 10:return t.next=12,x.a.get(v.a+"/api/favorites?user_id="+s._id).then((function(t){Array.from(t.data).map((function(t){e.push(t.gif_id)})),a.setState({favorites:e,statusLoad:!0})})).catch((function(t){return a.error()}));case 12:document.title="Trang ch\u1ee7";case 13:case"end":return t.stop()}}),t)}))),a.showMore=Object(j.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({statusLoad:!1}),e=a.state.length+10,a.setState({length:e}),t.next=5,x.a.get("https://api.giphy.com/v1/gifs/trending?api_key=St3iGq5nwkH8bzTKJuFrqMVisVItn3cw&limit=".concat(e,"&rating=g")).then((function(t){return a.setState({data:t.data.data,statusLoad:!0})})).catch((function(t){return a.error()}));case 5:case"end":return t.stop()}}),t)}))),a.like=function(t){a.state.user._id||a.props.history.push("/login");var e={token:localStorage.getItem("auth-token"),gif_id:a.state.gif_id,gif_url:a.state.gif_url};x.a.post(v.a+"/api/favorites/reaction",e).then((function(e){return e.data.success?(t.target.querySelector(".icon").classList.toggle("active"),a.success(e.data.success)):a.error()})).catch((function(t){return a.error()}))},a.checkLike=function(t){for(var e=a.state.favorites,s=!1,n=e.length,r=0;r<n;r++)if(e[r]==t){s=!0;break}return s},a.error=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="error"> '.concat(t||"\u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed  l\u1ea1i"," </div>"))},a.success=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="success"> '+t+" </div>")},a.addGifToBst=function(t){if(t.preventDefault(),a.state.user._id||a.props.history.push("/login"),a.state.bst_id){var e={token:localStorage.getItem("auth-token"),gif_id:a.state.gif_id,gif_url:a.state.gif_url,bst:a.state.bst_id};x.a.post("".concat(v.a,"/api/cnbst/add"),e).then((function(t){t.data.success?a.success(t.data.success):a.error(t.data.error)})).catch((function(t){a.error()}))}else alert("B\u1ea1n ch\u01b0a ch\u1ecdn b\u1ed9 s\u01b0u t\u1eadp")},a.state=(n={length:12,gif_id:null},Object(l.a)(n,"gif_id",null),Object(l.a)(n,"bst_id",null),Object(l.a)(n,"data",null),Object(l.a)(n,"bst",null),Object(l.a)(n,"favorites",null),Object(l.a)(n,"statusLoad",!1),Object(l.a)(n,"error",!1),Object(l.a)(n,"isOpenShare",!1),Object(l.a)(n,"isOpenBst",!1),Object(l.a)(n,"user",null),n),a}return Object(m.a)(s,[{key:"render",value:function(){var t=this,e=this.state.data,s=this.state.bst;return this.state.statusLoad?Object(n.jsxs)("div",{className:"site",children:[Object(n.jsx)(N,{}),Object(n.jsx)("div",{className:"noti"}),Object(n.jsx)(S,{open:this.state.isOpenShare,onClose:function(){return t.setState({isOpenShare:!1})},title:"Share",children:Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("textarea",{type:"text",placeholder:"share",defaultValue:this.state.gif_url?this.state.gif_url:"",rows:"5"})})})}),Object(n.jsx)(S,{open:this.state.isOpenBst,onClose:function(){return t.setState({isOpenBst:!1})},title:"Th\xeam v\xe0o b\u1ed9 s\u01b0u t\u1eadp",children:Object(n.jsxs)("form",{onSubmit:this.addGifToBst,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"hidden",defaultValue:this.state.gif_id?this.state.gif_id:""})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("select",{onChange:function(e){return t.setState({bst_id:e.target.value})},children:[Object(n.jsx)("option",{children:" Ch\u1ecdn b\u1ed9 s\u01b0u t\u1eadp "}),s?Array.from(s).map((function(t,e){return Object(n.jsxs)("option",{value:t._id,children:[" ",t.name," "]},e)})):""]})}),Object(n.jsx)("button",{className:"btn",children:" Th\xeam "})]})}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:" Top Trending"}),Object(n.jsxs)("section",{className:"list-gif",children:[Object(n.jsx)("div",{className:"row row_list-gif",children:null!==e?Array.from(e).map((function(e,s){return Object(n.jsxs)("div",{className:"item",children:[Object(n.jsxs)("div",{className:"thumbnail",children:[Object(n.jsx)("img",{className:"",src:e.images.original.url}),t.state.user._id?Object(n.jsxs)("div",{className:"addbst",children:[" ",Object(n.jsxs)("button",{className:"btn",onClick:function(){return t.setState({isOpenBst:!0,gif_url:e.images.original.url,gif_id:e.id})},children:[" ",Object(n.jsx)("i",{className:"far fa-plus-square"})," "]})," "]}):""]}),Object(n.jsxs)("div",{className:"action",children:[Object(n.jsxs)("div",{className:"like",onClick:function(){var s=Object(j.a)(h.a.mark((function s(n){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.setState({gif_id:e.id,gif_url:e.images.original.url});case 2:return s.abrupt("return",t.like(n));case 3:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}(),children:[Object(n.jsx)("span",{className:"icon"+(1==t.checkLike(e.id)?" active":""),children:" "}),Object(n.jsx)("span",{className:"text",children:" Add Your Favorites "})]}),Object(n.jsx)("div",{className:"line"}),Object(n.jsxs)("div",{className:"share",onClick:function(){return t.setState({isOpenShare:!0,gif_url:e.images.original.url})},children:[Object(n.jsx)("span",{className:"icon",children:" "}),Object(n.jsx)("span",{className:"text",children:" Share It "})]})]})]},s)})):""}),Object(n.jsxs)("div",{className:"showMore",children:[" ",Object(n.jsx)("button",{onClick:this.showMore,className:"btn btn-primary",children:" Xem th\xeam "})," "]})]})]})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("div",{className:"loadingWrapper",children:[Object(n.jsx)("div",{id:"loading",children:" "}),Object(n.jsx)("h1",{children:"Loading . . ."})]})})}}]),s}(a.Component),y=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).componentDidMount=Object(j.a)(h.a.mark((function t(){var e,s=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:return(e=t.sent)._id||this.props.history.push("/login"),t.next=6,x.a.get(v.a+"/api/bst?user_id="+e._id).then((function(t){return s.setState({bst:t.data})})).catch((function(t){return s.error()}));case 6:return t.next=8,x.a.get(v.a+"/api/favorites?user_id="+e._id+"&limit="+this.state.length).then((function(t){return s.setState({data:t.data,statusLoad:!0})})).catch((function(t){return s.error()}));case 8:this.setState({user_id:e._id}),document.title="Your Favorites";case 10:case"end":return t.stop()}}),t,this)}))),n.showMore=Object(j.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({statusLoad:!1}),e=n.state.length+10,n.setState({length:e}),t.next=5,x.a.get(v.a+"/api/favorites?user_id="+n.state.user_id+"&limit="+e).then((function(t){return n.setState({data:t.data,statusLoad:!0})})).catch((function(t){return n.error()}));case 5:case"end":return t.stop()}}),t)}))),n.delete=function(t){var e={token:localStorage.getItem("auth-token"),gif_id:n.state.gif_id};if("item"!=t.target.parentNode.parentNode.classList.value)return n.error();x.a.post(v.a+"/api/favorites/remove-reaction",e).then((function(e){return e.data.success?(t.target.parentNode.parentNode.remove(),n.success(e.data.success)):n.error(e.data.error)})).catch((function(t){return n.error()}))},n.error=function(){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="error"> \u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i </div>')},n.success=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="success"> '+t+" </div>")},n.addGifToBst=function(t){if(t.preventDefault(),n.state.bst_id){var e={token:localStorage.getItem("auth-token"),gif_id:n.state.gif_id,gif_url:n.state.gif_url,bst:n.state.bst_id};x.a.post("".concat(v.a,"/api/cnbst/add"),e).then((function(t){t.data.success?n.success(t.data.success):n.error(t.data.error)})).catch((function(t){n.error()}))}else alert("B\u1ea1n ch\u01b0a ch\u1ecdn b\u1ed9 s\u01b0u t\u1eadp")},n.state={length:12,data:null,bst:null,statusLoad:!1,gif_id:null,gif_url:null,bst_id:null,isOpenShare:!1,isOpenBst:!1},n}return Object(m.a)(s,[{key:"render",value:function(){var t=this,e=this.state.bst,s=this.state.data;return this.state.statusLoad?Object(n.jsxs)("div",{className:"site",children:[Object(n.jsx)(N,{}),Object(n.jsx)("div",{className:"noti"}),Object(n.jsx)(S,{open:this.state.isOpenShare,onClose:function(){return t.setState({isOpenShare:!1})},title:"Share",children:Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("textarea",{type:"text",placeholder:"share",defaultValue:this.state.gif_url?this.state.gif_url:"",rows:"5"})})})}),Object(n.jsx)(S,{open:this.state.isOpenBst,onClose:function(){return t.setState({isOpenBst:!1})},title:"Th\xeam v\xe0o b\u1ed9 s\u01b0u t\u1eadp",children:Object(n.jsxs)("form",{onSubmit:this.addGifToBst,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"hidden",defaultValue:this.state.gif_id?this.state.gif_id:""})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("select",{onChange:function(e){return t.setState({bst_id:e.target.value})},children:[Object(n.jsx)("option",{children:" Ch\u1ecdn b\u1ed9 s\u01b0u t\u1eadp "}),e?Array.from(e).map((function(t,e){return Object(n.jsxs)("option",{value:t._id,children:[" ",t.name," "]},e)})):""]})}),Object(n.jsx)("button",{className:"btn",children:" Th\xeam "})]})}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:" Your Favorites "}),Object(n.jsxs)("section",{className:"list-gif",children:[Object(n.jsx)("div",{className:"row row_list-gif",children:null!==s?Array.from(s).map((function(e,s){return Object(n.jsxs)("div",{className:"item",children:[Object(n.jsxs)("div",{className:"thumbnail",children:[Object(n.jsx)("img",{className:"",src:e.gif_url}),Object(n.jsxs)("div",{className:"addbst",children:[" ",Object(n.jsxs)("button",{className:"btn",onClick:function(){return t.setState({isOpenBst:!0,gif_url:e.gif_url,gif_id:e.gif_id})},children:[" ",Object(n.jsx)("i",{className:"far fa-plus-square"})," "]})," "]})]}),Object(n.jsxs)("div",{className:"action",children:[Object(n.jsxs)("div",{className:"delete",onClick:function(){var s=Object(j.a)(h.a.mark((function s(n){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.setState({gif_id:e.gif_id});case 2:return s.abrupt("return",t.delete(n));case 3:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}(),children:[Object(n.jsx)("span",{className:"icon",children:" "}),Object(n.jsx)("span",{className:"text",children:" Delete "})]}),Object(n.jsx)("div",{className:"line"}),Object(n.jsxs)("div",{className:"share",onClick:function(){return t.setState({isOpenShare:!0,gif_url:e.gif_url})},children:[Object(n.jsx)("span",{className:"icon",children:" "}),Object(n.jsx)("span",{className:"text",children:" Share It "})]})]})]},s)})):""}),Object(n.jsxs)("div",{className:"showMore",children:[" ",Object(n.jsx)("button",{onClick:this.showMore,className:"btn btn-primary",children:" Xem th\xeam "})," "]})]})]})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("div",{className:"loadingWrapper",children:[Object(n.jsx)("div",{id:"loading",children:" "}),Object(n.jsx)("h1",{children:"Loading . . ."})]})})}}]),s}(a.Component),k=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).componentDidMount=Object(j.a)(h.a.mark((function t(){var e=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:return t.sent._id||this.props.history.push("/login"),t.next=6,x.a.get("".concat(v.a,"/api/bst/get?token=").concat(localStorage.getItem("auth-token"),"&id=").concat(this.state.bst_id)).then((function(t){return e.setState({bst:t.data})})).catch((function(t){return e.error()}));case 6:return t.next=8,x.a.get("".concat(v.a,"/api/cnbst?token=").concat(localStorage.getItem("auth-token"),"&bst_id=").concat(this.state.bst_id,"&limit=").concat(this.state.length)).then((function(t){return e.setState({items:t.data,statusLoad:!0})})).catch((function(t){return e.error()}));case 8:document.title=this.state.bst?this.state.bst.name:"B\xf4 s\u01b0u t\u1eadp",console.log(this.state.items);case 10:case"end":return t.stop()}}),t,this)}))),n.showMore=Object(j.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({statusLoad:!1}),e=n.state.length+10,n.setState({length:e}),t.next=5,x.a.get(v.a+"/api/favorites?user_id="+n.state.user_id+"&limit="+e).then((function(t){return n.setState({data:t.data,statusLoad:!0})})).catch((function(t){return n.error()}));case 5:case"end":return t.stop()}}),t)}))),n.delete=function(t){var e={token:localStorage.getItem("auth-token"),id:n.state.gif_id};if("item"!=t.target.parentNode.parentNode.classList.value)return n.error();x.a.post(v.a+"/api/cnbst/remove",e).then((function(e){return console.log(e),e.data.success?(t.target.parentNode.parentNode.remove(),n.success(e.data.success)):n.error(e.data.error)})).catch((function(t){return n.error()}))},n.error=function(){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="error"> \u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i </div>')},n.success=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="success"> '+t+" </div>")},n.state={length:12,bst:null,items:null,statusLoad:!1,gif_id:null,gif_url:null,bst_id:t.match.params.id},n}return Object(m.a)(s,[{key:"render",value:function(){var t=this,e=this.state.items;return this.state.statusLoad?Object(n.jsxs)("div",{className:"site",children:[Object(n.jsx)(N,{}),Object(n.jsx)("div",{className:"noti"}),Object(n.jsx)(S,{open:this.state.isOpenShare,onClose:function(){return t.setState({isOpenShare:!1})},title:"Share",children:Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("textarea",{type:"text",placeholder:"share",defaultValue:this.state.gif_url?this.state.gif_url:"",rows:"5"})})})}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("h2",{children:[" ",this.state.bst.name," "]}),Object(n.jsxs)("section",{className:"list-gif",children:[Object(n.jsx)("div",{className:"row row_list-gif",children:null!==e?Array.from(e).map((function(e,s){return Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("div",{className:"thumbnail",children:Object(n.jsx)("img",{className:"",src:e.gif_url})}),Object(n.jsxs)("div",{className:"action",children:[Object(n.jsxs)("div",{className:"delete",onClick:function(){var s=Object(j.a)(h.a.mark((function s(n){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.setState({gif_id:e._id});case 2:return s.abrupt("return",t.delete(n));case 3:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}(),children:[Object(n.jsx)("span",{className:"icon",children:" "}),Object(n.jsx)("span",{className:"text",children:" Delete "})]}),Object(n.jsx)("div",{className:"line"}),Object(n.jsxs)("div",{className:"share",onClick:function(){return t.setState({isOpenShare:!0,gif_url:e.gif_url})},children:[Object(n.jsx)("span",{className:"icon",children:" "}),Object(n.jsx)("span",{className:"text",children:" Share It "})]})]})]},s)})):""}),Object(n.jsxs)("div",{className:"showMore",children:[" ",Object(n.jsx)("button",{onClick:this.showMore,className:"btn btn-primary",children:" Xem th\xeam "})," "]})]})]})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("div",{className:"loadingWrapper",children:[Object(n.jsx)("div",{id:"loading",children:" "}),Object(n.jsx)("h1",{children:"Loading . . ."})]})})}}]),s}(a.Component),w=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).componentDidMount=Object(j.a)(h.a.mark((function t(){var e,s=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:return(e=t.sent)._id||this.props.history.push("/login"),t.next=6,x.a.get(v.a+"/api/user?user_id="+e._id).then((function(t){return s.setState({user:t.data,avatar:t.data.avatar,cover:t.data.cover,introduce:t.data.introduce})})).catch((function(t){return s.error()}));case 6:return t.next=8,x.a.get(v.a+"/api/bst?user_id="+e._id+"&limit="+this.state.length).then((function(t){return s.setState({data:t.data,statusLoad:!0})})).catch((function(t){return s.error()}));case 8:document.title=this.state.user?this.state.user.username:"Profile";case 9:case"end":return t.stop()}}),t,this)}))),n.showMore=Object(j.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({statusLoad:!1}),e=n.state.length+10,n.setState({length:e}),t.next=5,x.a.get(v.a+"/api/bst?user_id="+n.state.user._id+"&limit="+e).then((function(t){return n.setState({data:t.data,statusLoad:!0})})).catch((function(t){return n.error()}));case 5:case"end":return t.stop()}}),t)}))),n.delete=function(t){var e={token:localStorage.getItem("auth-token"),gif_id:t.target.getAttribute("data-id"),gif_url:t.target.getAttribute("data-url")};x.a.post(v.a+"/api/favorites/reaction",e).then((function(e){t.target.parentNode.parentNode.remove()})).catch((function(t){return n.error()}))},n.error=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="error"> '+t+" </div>")},n.success=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="success"> '+t+" </div>")},n.addBst=function(t){if(n.setState({statusLoad:!1}),t.preventDefault(),""==n.state.namebst||""==n.state.thumbnail)alert("Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng");else{var e={token:localStorage.getItem("auth-token"),name:n.state.namebst,thumbnail:n.state.thumbnail};x.a.post("".concat(v.a,"/api/bst/add"),e).then(function(){var t=Object(j.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.data.success){t.next=6;break}return t.next=3,x.a.get(v.a+"/api/bst?user_id="+n.state.user._id+"&limit="+n.state.length).then((function(t){return n.setState({data:t.data,statusLoad:!0})})).catch((function(t){return n.error()}));case 3:return t.abrupt("return",n.success(e.data.success));case 6:return t.abrupt("return",n.error(e.data.error));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log(t)}))}},n.editProfile=function(t){n.setState({statusLoad:!1}),t.preventDefault();var e={token:localStorage.getItem("auth-token"),avatar:n.state.avatar,cover:n.state.cover,introduce:n.state.introduce};x.a.post("".concat(v.a,"/api/user/update"),e).then((function(t){return t.data.success?(n.setState({user:t.data.user,statusLoad:!0}),n.success(t.data.success)):n.error(t.data.error)})).catch((function(t){return n.error(t)}))},n.state={length:6,lengthFavorites:9,namebst:"",thumbnail:"",introduce:"",avatar:"",cover:"",statusLoad:!1,isOpenSettingProfile:!1,isOpenSettingIntroduce:!1,isOpenAddBst:!1},n}return Object(m.a)(s,[{key:"render",value:function(){var t=this,e=this.state.user,s=this.state.data;return this.state.statusLoad?Object(n.jsxs)("div",{className:"site",children:[Object(n.jsx)(N,{}),Object(n.jsx)("div",{className:"noti"}),Object(n.jsx)(S,{open:this.state.isOpenSettingProfile,onClose:function(){return t.setState({isOpenSettingProfile:!1})},title:"Ch\u1ec9nh s\u1eeda chi ti\u1ebft",children:Object(n.jsxs)("form",{onSubmit:this.editProfile,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",id:"avatar",placeholder:"Link Avatar",onChange:function(e){return t.setState({avatar:e.target.value})},defaultValue:e.avatar?e.avatar:"./avatar.jpg"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"url",id:"cover",placeholder:"Link Cover",onChange:function(e){return t.setState({cover:e.target.value})},defaultValue:e.cover?e.cover:"./cover.jpg"})}),Object(n.jsx)("button",{className:"btn",children:" Ch\u1ec9nh s\u1eeda "})]})}),Object(n.jsx)(S,{open:this.state.isOpenSettingIntroduce,onClose:function(){return t.setState({isOpenSettingIntroduce:!1})},title:"Ch\u1ec9nh s\u1eeda gi\u1edbi thi\u1ec7u",children:Object(n.jsxs)("form",{onSubmit:this.editProfile,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("textarea",{type:"text",id:"introduce",onChange:function(e){return t.setState({introduce:e.target.value})},defaultValue:e?e.introduce:"",rows:"5"})}),Object(n.jsx)("button",{className:"btn",children:" Ch\u1ec9nh s\u1eeda "})]})}),Object(n.jsx)(S,{open:this.state.isOpenAddBst,onClose:function(){return t.setState({isOpenAddBst:!1})},title:"Th\xeam b\u1ed9 s\u01b0u t\u1eadp",children:Object(n.jsxs)("form",{onSubmit:this.addBst,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",id:"namebst",placeholder:"T\xean b\u1ed9 s\u01b0u t\u1eadp",onChange:function(e){return t.setState({namebst:e.target.value})}})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"url",id:"thumbnail",placeholder:"Link b\xeca",onChange:function(e){return t.setState({thumbnail:e.target.value})}})}),Object(n.jsx)("button",{className:"btn",children:" T\u1ea1o "})]})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("section",{className:"profile",children:[Object(n.jsxs)("div",{className:"profile__head",children:[Object(n.jsx)("div",{className:"cover",children:Object(n.jsx)("img",{src:e.cover?e.cover:"./cover.jpg",alt:""})}),Object(n.jsxs)("div",{className:"user",children:[Object(n.jsx)("img",{src:e.avatar?e.avatar:"./avatar.jpg",className:"user__avatar",alt:""}),Object(n.jsxs)("p",{className:"user__fullname",children:[" ",e?e.username:""]})]}),Object(n.jsx)("button",{className:"btn",onClick:function(e){return t.setState({isOpenSettingProfile:!0})},children:" Ch\u1ec9nh s\u1eeda "})]}),Object(n.jsxs)("div",{className:"row row_profile",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"introduce",children:[Object(n.jsx)("h1",{children:" Gi\u1edbi thi\u1ec7u "}),Object(n.jsxs)("p",{children:[" ",e.introduce?e.introduce:""," "]}),Object(n.jsx)("button",{className:"btn btn-grey",onClick:function(e){return t.setState({isOpenSettingIntroduce:!0})},children:" Ch\u1ec9nh s\u1eeda gi\u1edbi thi\u1ec7u "})]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"btn__add-bst",children:Object(n.jsx)("button",{className:"btn btn-primary float-right",onClick:function(e){return t.setState({isOpenAddBst:!0})},children:" Th\xeam b\u1ed9 s\u01b0u t\u1eadp "})}),Object(n.jsxs)("section",{className:"bst",children:[Object(n.jsx)("div",{className:"row row_bst",children:null!==s?Array.from(s).map((function(t,e){return Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)("div",{className:"thumbnail",children:Object(n.jsx)("img",{src:t.thumbnail,alt:""})}),Object(n.jsx)("div",{className:"name",children:t.name}),Object(n.jsx)("div",{className:"view",children:Object(n.jsx)(o.c,{to:"/bst/"+t._id,children:" View"})})]},e)})):""}),Object(n.jsxs)("div",{className:"showMore",children:[" ",Object(n.jsx)("button",{onClick:function(){return t.showMore()},className:"btn btn-primary",children:" Xem th\xeam "})," "]})]})]})]})]})})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("div",{className:"loadingWrapper",children:[Object(n.jsx)("div",{id:"loading",children:" "}),Object(n.jsx)("h1",{children:"Loading . . ."})]})})}}]),s}(a.Component),C=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).componentDidMount=Object(j.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.title="\u0110\u0103ng xu\u1ea5t",t.next=3,g();case 3:t.sent._id||this.props.history.push("/login"),this.setState({statusLoad:!0});case 6:case"end":return t.stop()}}),t,this)}))),n.logout=function(){localStorage.removeItem("auth-token"),n.props.history.push("/")},n.state={statusLoad:!0},n}return Object(m.a)(s,[{key:"render",value:function(){return this.state.statusLoad?Object(n.jsxs)("div",{className:"site",children:[Object(n.jsx)(N,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"panel",children:[Object(n.jsx)("div",{className:"panel-title",children:"\u0110\u0103ng xu\u1ea5t"}),Object(n.jsxs)("div",{className:"panel-content",children:[Object(n.jsx)("p",{children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n \u0111\u0103ng xu\u1ea5t kh\xf4ng?"}),Object(n.jsxs)("div",{children:[" ",Object(n.jsx)("button",{className:"btn btn-primary",onClick:this.logout,children:"  \u0110\u0103ng xu\u1ea5t "})]})]})]})})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsxs)("div",{className:"loadingWrapper",children:[Object(n.jsx)("div",{id:"loading",children:" "}),Object(n.jsx)("h1",{children:"Loading . . ."})]})})}}]),s}(a.Component),L=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).inputFocus=function(t){var e=t.target.labels[0];e.style.fontSize="0.7em",e.style.top="-1em",e.style.color="#000"},n.inputBlur=function(t){var e=t.target.labels[0];""===t.target.value&&(e.style.fontSize="1em",e.style.top="10px",e.style.color="#636e72")},n.componentDidMount=Object(j.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.title="\u0110\u0103ng nh\u1eadp",t.next=3,g();case 3:t.sent._id&&this.props.history.push("/");case 5:case"end":return t.stop()}}),t,this)}))),n.error=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="error"> '+t+" </div>")},n.success=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="success"> '+t+" </div>")},n.submitForm=function(t){t.preventDefault();var e={username:n.state.username,password:n.state.password};x.a.post(v.a+"/api/login",e).then((function(t){n.success(t.data.success),localStorage.setItem("auth-token",t.data.token),setTimeout((function(){n.props.history.push("/")}),3e3)})).catch((function(){return n.setState({errors:"Sai tai khoan mat khau"})}))},n.state={username:"",password:"",errors:"",success:null},n}return Object(m.a)(s,[{key:"render",value:function(){var t=this;return Object(n.jsxs)("section",{className:"form",children:[Object(n.jsx)("div",{className:"noti"}),Object(n.jsxs)("form",{id:"formLogin",onSubmit:this.submitForm,children:[Object(n.jsx)("h1",{children:" \u0110\u0103ng Nh\u1eadp "}),""!=this.state.errors?Object(n.jsxs)("p",{className:"error",children:[" ",this.state.errors," "]}):"",Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"username",children:"Username"}),Object(n.jsx)("input",{className:"form-input",type:"text",id:"username",onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:function(e){t.setState({username:e.target.value})}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"password",children:"Password"}),Object(n.jsx)("input",{className:"form-input",type:"password",id:"password",onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:function(e){t.setState({password:e.target.value})}})]}),Object(n.jsx)("div",{className:"form-button",children:Object(n.jsx)("button",{className:"btn-submit",children:" Login "})}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(o.c,{to:"/",children:" Home "}),Object(n.jsx)(o.c,{to:"/register",children:" Register "})]})]})]})}}]),s}(a.Component),B=function(t){Object(p.a)(s,t);var e=Object(f.a)(s);function s(t){var n;return Object(b.a)(this,s),(n=e.call(this,t)).inputFocus=function(t){var e=t.target.labels[0];e.style.fontSize="0.7em",e.style.top="-1em",e.style.color="#000"},n.inputBlur=function(t){var e=t.target.labels[0];""===t.target.value&&(e.style.fontSize="1em",e.style.top="10px",e.style.color="#636e72")},n.componentDidMount=Object(j.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.title="\u0110\u0103ng k\xed",t.next=3,g();case 3:t.sent._id&&this.props.history.push("/");case 5:case"end":return t.stop()}}),t,this)}))),n.error=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="error"> '+t+" </div>")},n.success=function(t){document.querySelector(".noti")&&(document.querySelector(".noti").innerHTML='<div class="success"> '+t+" </div>")},n.submitForm=function(t){t.preventDefault();var e={username:n.state.username,password:n.state.password,confirmPassword:n.state.confirmPassword,email:n.state.email};x.a.post(v.a+"/api/register",e).then((function(t){void 0!==t.data.errors?n.setState({errors:t.data.errors}):void 0!==t.data.success&&(n.success(t.data.success),setTimeout((function(){n.props.history.push("/login")}),3e3))}))},n.state={username:"",password:"",confirmPassword:"",email:"",errors:"",success:null},n}return Object(m.a)(s,[{key:"render",value:function(){var t=this,e=this.state.errors;return Object(n.jsxs)("section",{className:"form",children:[Object(n.jsx)("div",{className:"noti"}),Object(n.jsxs)("form",{id:"formRegister",onSubmit:this.submitForm,children:[Object(n.jsx)("h1",{children:" \u0110\u0103ng K\xed "}),""!=this.state.errors?Object(n.jsxs)("p",{className:"error",children:[" ",e[0].message," "]}):"",Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"username",children:"Username"}),Object(n.jsx)("input",{className:"form-input",type:"text",id:"username",onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:function(e){t.setState({username:e.target.value})}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"password",children:"Password"}),Object(n.jsx)("input",{className:"form-input",type:"password",id:"password",onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:function(e){t.setState({password:e.target.value})}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"confirmPassword",children:"Confirm Password"}),Object(n.jsx)("input",{className:"form-input",type:"password",id:"confirmPassword",onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:function(e){t.setState({confirmPassword:e.target.value})}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{for:"email",children:"Email"}),Object(n.jsx)("input",{className:"form-input",type:"text",id:"email",onFocus:this.inputFocus,onBlur:this.inputBlur,onChange:function(e){t.setState({email:e.target.value})}})]}),Object(n.jsx)("div",{className:"form-button",children:Object(n.jsx)("button",{className:"btn-submit",children:" Register "})}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(o.c,{to:"/",children:" Home "}),Object(n.jsx)(o.c,{to:"/login",children:" Login "})]})]})]})}}]),s}(a.Component);var M=function(){return Object(n.jsx)(o.b,{basename:"/",children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/",exact:!0,component:_}),Object(n.jsx)(u.a,{path:"/favorites",exact:!0,component:y}),Object(n.jsx)(u.a,{path:"/bst/:id",exact:!0,component:k}),Object(n.jsx)(u.a,{path:"/profile/",component:w}),Object(n.jsx)(u.a,{path:"/logout",exact:!0,component:C}),Object(n.jsx)(u.a,{path:"/login",exact:!0,component:L}),Object(n.jsx)(u.a,{path:"/register",exact:!0,component:B})]})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(M,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.43809908.chunk.js.map